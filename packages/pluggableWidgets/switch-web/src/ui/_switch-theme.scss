$default-android-color: #6fbeb5;
$default-ios-color: rgb(100, 189, 99);

// TODO: align variables with Atlas 3.
// TODO: styles local to widget should give bare minimum look.
// TODO: Atlas styles should give the *flavor*
// TODO: align design properties with Atlas 3 => remove info / inverse; default => secondary

@mixin bootstrap-style-ios($brand-style) {
    background-color: $brand-style;
    border-color: $brand-style;
    box-shadow: $brand-style 0 0 0 16px inset;
}

@mixin bootstrap-style-android($brand-style) {
    background-color: lighten($brand-style, 10%);
}

@mixin ios {
    .widget-switch-btn-wrapper {
        &.checked {
            &.widget-switch-btn-wrapper-default {
                @include bootstrap-style-ios($default-ios-color);
            }

            &.widget-switch-btn-wrapper-success {
                @include bootstrap-style-ios($brand-success);
            }

            &.widget-switch-btn-wrapper-info {
                @include bootstrap-style-ios($brand-info);
            }

            &.widget-switch-btn-wrapper-primary {
                @include bootstrap-style-ios($brand-primary);
            }

            &.widget-switch-btn-wrapper-warning {
                @include bootstrap-style-ios($brand-warning);
            }

            &.widget-switch-btn-wrapper-danger {
                @include bootstrap-style-ios($brand-danger);
            }

            &.widget-switch-btn-wrapper-inverse {
                @include bootstrap-style-ios($brand-inverse);
            }
        }
    }
}

@mixin android {
    .widget-switch-btn-wrapper {
        &.checked {
            &.widget-switch-btn-wrapper-default {
                @include bootstrap-style-android($default-android-color);

                .widget-switch-btn {
                    background: $default-android-color;
                }
            }

            &.widget-switch-btn-wrapper-success {
                @include bootstrap-style-android($brand-success);

                .widget-switch-btn {
                    background: $brand-success;
                }
            }

            &.widget-switch-btn-wrapper-info {
                @include bootstrap-style-android($brand-info);

                .widget-switch-btn {
                    background: $brand-info;
                }
            }

            &.widget-switch-btn-wrapper-primary {
                @include bootstrap-style-android($brand-primary);

                .widget-switch-btn {
                    background: $brand-primary;
                }
            }

            &.widget-switch-btn-wrapper-warning {
                @include bootstrap-style-android($brand-warning);

                .widget-switch-btn {
                    background: $brand-warning;
                }
            }

            &.widget-switch-btn-wrapper-danger {
                @include bootstrap-style-android($brand-danger);

                .widget-switch-btn {
                    background: $brand-danger;
                }
            }

            &.widget-switch-btn-wrapper-inverse {
                @include bootstrap-style-android($brand-inverse);

                .widget-switch-btn {
                    background: $brand-inverse;
                }
            }
        }
    }
}

@mixin theme-selector($device, $brand-key, $brand-variable) {
    .widget-switch-btn-wrapper-#{$brand-key} {
        .widget-switch {
            @if ($device == "iOS" or $device == "auto") {
                &.auto,
                .iOS {
                    .widget-switch-btn-wrapper {
                        &.checked {
                            &.widget-switch-btn-wrapper-default {
                                @include bootstrap-style-ios($brand-variable);
                            }
                        }
                    }
                }
            } @else {
                &.android {
                    .widget-switch-btn-wrapper {
                        &.checked {
                            &.widget-switch-btn-wrapper-default {
                                @include bootstrap-style-android($brand-variable);
                            }
                        }
                    }
                }
            }
        }
    }
}

@include theme-selector("iOS", "primary", $brand-primary);
// NOTE: no secondary because widget never had default design-property
@include theme-selector("iOS", "success", $brand-success);
@include theme-selector("iOS", "warning", $brand-warning);
@include theme-selector("iOS", "danger", $brand-danger);

@include theme-selector("android", "primary", $brand-primary);
// NOTE: no secondary because widget never had default design-property
@include theme-selector("android", "success", $brand-success);
@include theme-selector("android", "warning", $brand-warning);
@include theme-selector("android", "danger", $brand-danger);

// keep this to maintain any styling applied to specific DOM structure pre Switch 2.0.0.
.widget-switch {
    &.iOS {
        @include ios;
    }

    &.android {
        @include android;
    }

    &.auto {
        @include ios;
    }
}

// keep this to maintain any styling applied to specific DOM structure pre Switch 2.0.0.
html {
    &.dj_android {
        .widget-switch {
            &.auto {
                @include android;
            }
        }
    }

    &.dj_ios {
        .widget-switch {
            &.auto {
                @include ios;
            }
        }
    }
}
